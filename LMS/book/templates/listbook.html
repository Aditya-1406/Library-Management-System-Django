{%extends 'base.html'%}

{%block title%} All Books {%endblock%}

{%block content%}
<div class="container mt-5">
    <h1> All Users</h1>

    <hr>
    <form method="post">
        {%csrf_token%}
        <div class="mb-3 d-flex gap-2">
            <input type="text" class="form-control" name="search" placeholder="Search by name or Author">
            <button type="submit" class="btn btn-primary">Search</button>
        </div>

    </form>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Author</th>
                <th scope="col">ISBN</th>
                <th scope="col">Published Date</th>
                <th scope="col">Available Copies</th>
                <th scope="col">Photo</th>
                <th scope="col">Category</th>
                <th scope="col">Update</th>
                <th scope="col">Delete</th>

            </tr>
        </thead>
        <tbody>
            {% for book in books%}
            <tr>

                <th scope="row">{{forloop.counter}}</th>
                <td>{{book.title}}</td>
                <td>{{book.author}}</td>
                <td>{{book.isbn}}</td>
                <td>{{book.published_date}}</td>
                <td>{{book.available_copies}}</td>
                <td><img src="{{book.photo.url}}" alt="{{book.title}}" width="50" height="70"></td>
                <td>{{book.category}}</td>
                <td><button><a href="/updatebook/{{book.id}}">Update Book</a></button>
            </tr>
            {%endfor%}
        </tbody>
    </table>
</div>

{%endblock%}